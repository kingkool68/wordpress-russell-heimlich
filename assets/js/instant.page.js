(()=>{var m=null,u,b,S,_,A=65,c,l,L=new Set;I();function I(){let t=document.createElement("link").relList;if(!(t.supports("prefetch")&&t.supports("modulepreload")))return;let o="instantVaryAccept"in document.body.dataset||"Shopify"in window,i=navigator.userAgent.indexOf("Chrome/");if(i>-1&&(m=parseInt(navigator.userAgent.substring(i+7))),o&&m&&m<110)return;if(u="none",HTMLScriptElement.supports&&HTMLScriptElement.supports("speculationrules")){let n=document.body.dataset.instantSpecrules;n=="prerender"?u="prerender":n!="no"&&(u="prefetch")}let w="instantMousedownShortcut"in document.body.dataset;b="instantAllowQueryString"in document.body.dataset,S="instantAllowExternalLinks"in document.body.dataset,_="instantWhitelist"in document.body.dataset;let d=!1,T=!1,v=!1;if("instantIntensity"in document.body.dataset){let n=document.body.dataset.instantIntensity;if(n=="mousedown"&&!w&&(d=!0),n=="mousedown-only"&&!w&&(d=!0,T=!0),n=="viewport"){let f=document.documentElement.clientWidth*document.documentElement.clientHeight<45e4,r=navigator.connection&&navigator.connection.saveData,p=navigator.connection&&navigator.connection.effectiveType&&navigator.connection.effectiveType.includes("2g");f&&(!r&&!p)&&(v=!0)}n=="viewport-all"&&(v=!0);let a=parseInt(n);isNaN(a)||(A=a)}let s={capture:!0,passive:!0};if(T?document.addEventListener("touchstart",C,s):document.addEventListener("touchstart",O,s),d||document.addEventListener("mouseover",k,s),d&&document.addEventListener("mousedown",R,s),w&&document.addEventListener("mousedown",D,s),v){let n=window.requestIdleCallback;n||(n=a=>{a()}),n(function(){let f=new IntersectionObserver(r=>{r.forEach(p=>{if(p.isIntersecting){let y=p.target;f.unobserve(y),g(y.href)}})});document.querySelectorAll("a").forEach(r=>{h(r)&&f.observe(r)})},{timeout:1500})}}function O(t){c=t;let e=t.target.closest("a");h(e)&&g(e.href,"high")}function C(t){c=t}function k(t){if(E(t)||!("closest"in t.target))return;let e=t.target.closest("a");h(e)&&(e.addEventListener("mouseout",N,{passive:!0}),l=setTimeout(()=>{g(e.href,"high"),l=null},A))}function R(t){if(E(t))return;let e=t.target.closest("a");h(e)&&g(e.href,"high")}function N(t){t.relatedTarget&&t.target.closest("a")==t.relatedTarget.closest("a")||l&&(clearTimeout(l),l=null)}function D(t){if(E(t))return;let e=t.target.closest("a");if(t.which>1||t.metaKey||t.ctrlKey||!e)return;e.addEventListener("click",function(i){i.detail!=1337&&i.preventDefault()},{capture:!0,passive:!1,once:!0});let o=new MouseEvent("click",{view:window,bubbles:!0,cancelable:!1,detail:1337});e.dispatchEvent(o)}function E(t){return!c||!t||t.target!=c.target?!1:t.timeStamp-c.timeStamp<2500}function h(t){if(!(!t||!t.href)&&!(_&&!("instant"in t.dataset))&&!(t.origin!=location.origin&&(!(S||"instant"in t.dataset)||!m))&&["http:","https:"].includes(t.protocol)&&!(t.protocol=="http:"&&location.protocol=="https:")&&!(!b&&t.search&&!("instant"in t.dataset))&&!(t.hash&&t.pathname+t.search==location.pathname+location.search)&&!("noInstant"in t.dataset))return!0}function g(t,e="auto"){L.has(t)||(u!="none"?M(t):U(t,e),L.add(t))}function M(t){let e=document.createElement("script");e.type="speculationrules",e.textContent=JSON.stringify({[u]:[{source:"list",urls:[t]}]}),document.head.appendChild(e)}function U(t,e="auto"){let o=document.createElement("link");o.rel="prefetch",o.href=t,o.fetchPriority=e,o.as="document",document.head.appendChild(o)}})();
/*! instant.page v5.2.0 - (C) 2019-2024 Alexandre Dieulot - https://instant.page/license */
//# sourceMappingURL=instant.page.src.js.map
