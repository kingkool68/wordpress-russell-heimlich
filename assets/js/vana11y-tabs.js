"use strict";function _typeof(t){return(_typeof="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}function ownKeys(e,t){var r,n=Object.keys(e);return Object.getOwnPropertySymbols&&(r=Object.getOwnPropertySymbols(e),t&&(r=r.filter(function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})),n.push.apply(n,r)),n}function _objectSpread(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?ownKeys(Object(r),!0).forEach(function(t){_defineProperty(e,t,r[t])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):ownKeys(Object(r)).forEach(function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))})}return e}function _defineProperty(t,e,r){return(e=_toPropertyKey(e))in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}function _toConsumableArray(t){return _arrayWithoutHoles(t)||_iterableToArray(t)||_unsupportedIterableToArray(t)||_nonIterableSpread()}function _nonIterableSpread(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}function _unsupportedIterableToArray(t,e){var r;if(t)return"string"==typeof t?_arrayLikeToArray(t,e):"Map"===(r="Object"===(r=Object.prototype.toString.call(t).slice(8,-1))&&t.constructor?t.constructor.name:r)||"Set"===r?Array.from(t):"Arguments"===r||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r)?_arrayLikeToArray(t,e):void 0}function _iterableToArray(t){if("undefined"!=typeof Symbol&&null!=t[Symbol.iterator]||null!=t["@@iterator"])return Array.from(t)}function _arrayWithoutHoles(t){if(Array.isArray(t))return _arrayLikeToArray(t)}function _arrayLikeToArray(t,e){(null==e||e>t.length)&&(e=t.length);for(var r=0,n=new Array(e);r<e;r++)n[r]=t[r];return n}function _callSuper(t,e,r){return e=_getPrototypeOf(e),_possibleConstructorReturn(t,_isNativeReflectConstruct()?Reflect.construct(e,r||[],_getPrototypeOf(t).constructor):e.apply(t,r))}function _possibleConstructorReturn(t,e){if(e&&("object"===_typeof(e)||"function"==typeof e))return e;if(void 0!==e)throw new TypeError("Derived constructors may only return object or undefined");return _assertThisInitialized(t)}function _assertThisInitialized(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function _isNativeReflectConstruct(){try{var t=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch(t){}return(_isNativeReflectConstruct=function(){return!!t})()}function _getPrototypeOf(t){return(_getPrototypeOf=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(t){return t.__proto__||Object.getPrototypeOf(t)})(t)}function _inherits(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&_setPrototypeOf(t,e)}function _setPrototypeOf(t,e){return(_setPrototypeOf=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(t,e){return t.__proto__=e,t})(t,e)}function _classCallCheck(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function _defineProperties(t,e){for(var r=0;r<e.length;r++){var n=e[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,_toPropertyKey(n.key),n)}}function _createClass(t,e,r){return e&&_defineProperties(t.prototype,e),r&&_defineProperties(t,r),Object.defineProperty(t,"prototype",{writable:!1}),t}function _toPropertyKey(t){t=_toPrimitive(t,"string");return"symbol"==_typeof(t)?t:t+""}function _toPrimitive(t,e){if("object"!=_typeof(t)||!t)return t;var r=t[Symbol.toPrimitive];if(void 0===r)return("string"===e?String:Number)(t);r=r.call(t,e||"default");if("object"!=_typeof(r))return r;throw new TypeError("@@toPrimitive must return a primitive value.")}!function(){var i={tabs:{class:".js-tabs",suffix:"-tabs",role:""},list:{class:".js-tablist",suffix:"-tabs__list",role:"tablist"},item:{class:".js-tablist-item",suffix:"-tabs__item",role:"presentation"},link:{class:".js-tablist-link",suffix:"-tabs__link",role:"tab"},panel:{class:".js-tab-panel",suffix:"-tabs__content",role:"tabpanel"}},r={nodes:["TEXTAREA","SELECT","OPTION","INPUT"],types:["checkbox","radio","button","submit","image","file"]},e=function(){return _createClass(function t(){_classCallCheck(this,t)},[{key:"handleEvent",value:function(t){this["on".concat(t.type)](t)}},{key:"addEvents",value:function(){this.list.addEventListener("click",this),this.list.addEventListener("keydown",this)}},{key:"canClick",value:function(t){var t=t.target,e=t.nodeName,t=t.type;return!r.nodes.includes(e)&&!r.types.includes(t)}},{key:"onclick",value:function(t){var e=t.target.closest(this.options.link.class),r=e&&this.links.indexOf(e);this.canClick(t)&&e&&-1<r&&(t.preventDefault(),this.select(r))}},{key:"onkeydown",value:function(t){var e,r="vertical"===this.orientation,n=t.keyCode;t.ctrlKey;switch(n){case 35:e=-1;break;case 36:e=0;break;case r?38:37:e=this.index-1;break;case r?40:39:e=this.index+1}void 0!==e&&(t.preventDefault(),this.select(e))}}])}(),t=function(){function t(){return _classCallCheck(this,t),_callSuper(this,t,arguments)}return _inherits(t,e),_createClass(t,[{key:"query",value:function(){var t=this.options,e=(t.tabs,t.list),r=t.item,n=t.link,t=t.panel;this.list=this.element.querySelector(e.class),this.items=this.list&&_toConsumableArray(this.list.querySelectorAll(r.class)),this.links=this.list&&_toConsumableArray(this.list.querySelectorAll(n.class)),this.panels=this.element.querySelectorAll(t.class)}},{key:"setTabs",value:function(){var r=this;this.setAtts(this.list,"list"),this.setAtts(this.element,"tabs"),this.list.setAttribute("aria-orientation",this.orientation||"horizontal"),this.items.forEach(function(t){return r.setAtts(t,"item")}),this.links.forEach(function(t,e){return r.setLink(t,e)}),this.panels.forEach(function(t,e){return r.setPanel(t,e)})}},{key:"setLink",value:function(t,e){var r=t.getAttribute("href").replace("#","");t.hasAttribute("data-selected");t.setAttribute("aria-selected","false"),t.setAttribute("aria-controls",r),t.setAttribute("tabindex","-1"),t.setAttribute("id","label_".concat(r)),this.setIndex(t,e,r),this.setAtts(t,"link")}},{key:"setIndex",value:function(t,e,r){t=t.hasAttribute("data-selected");void 0===this.index&&t&&(this.index=e),r===this.urlHash&&(this.index=e)}},{key:"setPanel",value:function(t,e){t.setAttribute("aria-labelledby","label_".concat(t.id)),t.setAttribute("hidden",""),this.setHeader(t,e),this.setAtts(t,"panel")}},{key:"setHeader",value:function(t,e){var r=this.hxExists&&t.querySelector(this.hxExists);this.hxLevel&&!r&&((r=document.createElement(this.hxLevel)).setAttribute("tabindex",0),r.textContent=this.links[e].textContent,r.className=this.hxClass||"invisible",t.insertBefore(r,t.firstChild)),r&&r.setAttribute("tabindex",0)}},{key:"updateLink",value:function(t,e){t.setAttribute("aria-selected",e?"true":"false"),t.setAttribute("tabindex",e?"0":"-1")}},{key:"updatePanel",value:function(t,e){t["".concat(e?"remove":"set","Attribute")]("hidden","")}},{key:"setAtts",value:function(t,e){var e=this.options[e],r=e.role,e=e.suffix;r&&t.setAttribute("role",r),t.className+=" ".concat(this.prefix+e)}}])}(),n=function(){function n(t){var e,r=1<arguments.length&&void 0!==arguments[1]?arguments[1]:{};return _classCallCheck(this,n),(e=_callSuper(this,n)).element=t,e.options=_objectSpread(_objectSpread({},i),r),e.urlHash=window.location.hash.replace("#",""),e.prefix=t.getAttribute("data-tabs-prefix-class"),e.hxLevel=t.getAttribute("data-hx"),e.hxClass=t.getAttribute("data-tabs-generated-hx-class"),e.hxExists=t.getAttribute("data-existing-hx"),e.orientation=t.getAttribute("data-orientation"),e}return _inherits(n,t),_createClass(n,[{key:"init",value:function(){this.query(),this.check()&&(this.setTabs(),this.hasAnchor(),this.addEvents(),this.toggle(this.index,!0))}},{key:"check",value:function(){return this.list?this.items.length===this.panels.length||!!console.error("The number of tabs do not correspond to the number of panels."):!!console.error("The HTML markup of the tablist is not valid.")}},{key:"hasAnchor",value:function(){var t=this.options.panel,e=this.urlHash&&this.element.querySelector("".concat(t.class," #").concat(this.urlHash));e&&(t=e.closest(t.class),0<(t=Array.prototype.slice.call(this.panels).indexOf(t)))&&(this.index=t,requestAnimationFrame(function(){return e.focus()}))}},{key:"select",value:function(t){t=this.modulo(this.items.length,t||0),this.index!==t&&(this.toggle(this.index,!1),this.toggle(t,!0),this.focus(t),this.state(t),this.index=t)}},{key:"toggle",value:function(){var t=0<arguments.length&&void 0!==arguments[0]?arguments[0]:0,e=1<arguments.length?arguments[1]:void 0;this.updatePanel(this.panels[t],e),this.updateLink(this.links[t],e)}},{key:"focus",value:function(t){this.links[t].focus()}},{key:"state",value:function(t){var e=window.location,r=e.pathname,e=e.search,t=this.links[t].getAttribute("aria-controls");t&&history.pushState&&history.pushState(null,null,"".concat(r+e,"#").concat(t))}},{key:"modulo",value:function(t,e){return(t+e%t)%t}}])}();document.addEventListener("DOMContentLoaded",function(){var t=document.querySelectorAll(".js-tabs");t&&t.forEach(function(t){return new n(t).init()})})}();